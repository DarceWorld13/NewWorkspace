package Dao;

import org.junit.Rule;
import org.junit.Test;

public class Mockitotest {
	
	@Rule

	public TextFromStandardInputStream systemInMock = emptyStandardInputStream();



	@Test

	public void executeUC() throws StockageException {

		// création du mock

		IPizzaDao dao = Mockito.mock(IPizzaDao.class);

		

		// définir comportement du mock

		Pizza pizza = new Pizza("IOP", "yoplay", 12.0, CategoriePizza.SANS_VIANDE);

		

		

		// étant donné la saisie utilisateur suivante

		systemInMock.provideLines("IOP", "yoplay", "12.00", "SANS_VIANDE");

		
		// ????

		AjouterPizzasService ajouterPizzasService = new AjouterPizzasService();

		ajouterPizzasService.executeUC(new Scanner(System.in), dao);

		

		// vérifier que la méthode saveNewPizza du mock a été invoquée

		Mockito.verify(dao).saveNewPizza(pizza);



}
